(function(){function a(c){return new a.core(c)}a.core=function(d){this.selector=d;if(!this.selector){return this}if(this.selector==window){this.el=window}else{if(this.selector.nodeType){this.el=this.selector}else{if(a.browser=="ie"&&a.browserver<9){if(a.isString(this.selector)){var c=this.selector.split(",");if(c.length>1){var g=[];for(var f in c){var h=this.defineEl(a.trim(c[f]));if(a.isArray(h)){for(var e=0;e<h.length;e++){if(h[e]!=""&&!a.inArray(g,h[e])){g.push(h[e])}}}else{if(h!=""&&!a.inArray(g,h[e])){g.push(h)}}}this.el=g}else{this.el=this.defineEl(this.selector)}}}else{this.el=document.querySelectorAll(this.selector);if(this.el.length==1){this.el=this.el[0]}}}}};a.core.prototype={defineEl:function(c){var e=/( )+(>)( )+/gi;if(e.test(c)){c=c.replace(e,RegExp.$2)}var h=c.split(" "),d=(arguments[1])?arguments[1]:[document],f;if(h.length>1){for(var g=0;g<h.length;g++){d=this.checkPseudoSelector(h[g],d)}}else{d=this.checkPseudoSelector(h[0],d)}return(d.length==1)?d[0]:d},checkPseudoSelector:function(c,d){if(c.indexOf(":")>-1){var g=c.split(":"),f=true;c=g[0]}d=(a.isArray(d))?d:[d];d=this.getSelector(c,d);d=(a.isArray(d))?d:[d];if(f){var e=[];this.each(d,function(h){if(this[g[1]]){e.push(this)}});d=e}return d},Dom_search:function b(d,c){c(d);d=d.firstChild;while(d){b(d,c);d=d.nextSibling}},selType:function(c){var d=c.substr(0,1);return/^[^\.#]/i.test(c)?"tag":(d===".")?"class":"id"},checkChild:function(c,d){var e=c.split(">"),f=[];f[0]=e[0];e.splice(0,1);f[1]=e.join(">");d=this.getSelector(f[0],d);d=(a.isArray(d))?d:[d];attSel=this.selType(f[1]);searchSelector=f[1];if(/^(\.|\#)*.+>(.+)$/i.test(searchSelector)){return this.checkChild(searchSelector,d)}else{return{attSel:attSel,searchSelector:searchSelector,root:d}}},getSelector:function(d){if(typeof d==="string"){var k=[],p=arguments[1]||[document],l=d.substr(0,1),r=d.substr(1,d.length-1),n=this.selType(d),f=(n=="tag")?d:r;if(/^(\.|\#)*.+>(.+)$/i.test(d)){var m=this.checkChild(d,p);n=m.attSel;f=m.searchSelector;p=m.root}if(/^(\.|\#)*(.+)\[(.+)\]$/i.test(d)){p=this.getSelector(RegExp.$1+""+RegExp.$2);n="xpath"}if(r.indexOf(".")>-1){var q=r.split("."),o=this.defineEl(l+""+q[0]);if(o.length===undefined){o=[o]}for(var h=0;h<o.length;h++){for(var e=1;e<q.length;e++){if(o[h].className.indexOf(q[e])>-1){hasntCls=true}else{hasntCls=false}}if(hasntCls){k.push(o[h])}}}else{var c=p.length;for(var h=0;h<c;h++){var g=p[h];this.Dom_search(p[h],function(y){if(y.nodeType===1){if(n=="tag"){if(y.tagName.toLowerCase()==f){k.push(y)}}else{if(n=="class"){if(a.browser=="ie"&&a.browserver<8){if(y.className!=null){var t=y.className.split(" ");for(var u=0;u<t.length;u++){if(t[u]==f){k.push(y);break}}}}else{if(y.getAttribute(n)!=null){var t=y.getAttribute(n).split(" ");for(var u=0;u<t.length;u++){if(t[u]==f){k.push(y);break}}}}}else{if(n=="id"){if(y.getAttribute(n)===f){k.push(y)}}else{var s=["~=","*=","$=","!=","^=","="];if(/^(\.|\#)*.+\[(.+)\]$/i.test(d)){var z=RegExp.$2;for(var w=0;w<s.length;w++){if(z.indexOf(s[w])>-1){var v=z.split(s[w]);n=v[0];if(a.browser=="ie"&&a.browserver<8&&n=="class"){n="className"}f=v[1].replace(/'|"/gi,"");if(g===y){var x=y.getAttribute(n)||"";switch(s[w]){case"=":if(x===f){k.push(y)}break;case"*=":if(x.indexOf(f)>-1){k.push(y)}break;case"$=":if(a.exec("/"+f+"$/i").test(x)){k.push(y)}break;case"^=":if(a.exec("/^"+f+"/i").test(x)){k.push(y)}break;case"~=":if(a.exec("/\\b"+f+"\\b/i").test(x)){k.push(y)}break}}break}}}}}}}})}}return(k.length==1)?k[0]:k}},fireEvt:function(c,f){var e;if(document.createEvent){e=document.createEvent("HTMLEvents");e.initEvent("dataavailable",true,true)}else{e=document.createEventObject();e.eventType="ondataavailable"}e.eventName=c;e.data=f||{};if(document.createEvent){this.each(function(g){this.dispatchEvent(e)})}else{var d=this;this.each(function(g){this.fireEvent(e.eventType,d.eventRename(e))})}},trigger:function(c,d){if(document.createEvent){var f=document.createEvent("HTMLEvents");f.initEvent(c,true,true);this.each(function(e){if(a.isObject(d)){for(var e in d){f[e]=d[e]}}f.data=d;this.dispatchEvent(f)})}else{var f=document.createEventObject();this.each(function(e){if(a.isObject(d)){for(var e in d){f[e]=d[e]}}f.data=d;this.cloneNode(true).fireEvent("on"+c,f)})}},domReadyEvent:function(c,e){var d=this;if(this.el.length!=0){this.addEvent(c,e);return this}else{domREV=setTimeout(function(){delete (domREV);a(d.selector).domReadyEvent(c,e)},500)}},addEvent:(function(){if(document.addEventListener){return function(e,d){if(this.el&&this.el.nodeName||this.el===window){if(arguments.length==3){this.el.data=arguments[1];d=arguments[2]}this.el.addEventListener(e,nfn=function(f){f.keyCode=f.which;d.call(this,f)},false);window.___eventList.push({type:e,func:nfn,elem:this.el})}else{if(this.el&&this.el.length){for(var c=0;c<this.el.length;c++){if(arguments.length==3){this.el[c].data=arguments[1];d=arguments[2]}a(this.el[c]).addEvent(e,d)}}}return this}}else{return function(e,d){if(this.el&&this.el.nodeName||this.el===window){if(arguments.length==3){this.el.data=arguments[1];d=arguments[2]}var f=this;this.el.attachEvent("on"+e,nfn=function(){d.call(f.el,f.eventRename(window.event))});window.___eventList.push({type:e,func:nfn,elem:this.el})}else{if(this.el&&this.el.length){for(var c=0;c<this.el.length;c++){if(arguments.length==3){this.el[c].data=arguments[1];d=arguments[2]}a(this.el[c]).addEvent(e,d)}}}return this}}})(),eventRename:function(c){c.target=c.srcElement;c.relatedTarget=c.toElement;return c},removeEvent:(function(){if(document.addEventListener){return function(c){if(arguments.length===2){this.each(function(e){this.removeEventListener("dataavailable",arguments[1],false)})}else{var d=this;this.each(function(e){this.removeEventListener(c,d.globalEventControl(c,this),false)})}return this}}else{return function(c){if(arguments.length===2){this.each(function(e){this.detachEvent("ondataavailable",arguments[1])})}else{var d=this;this.each(function(e){this.detachEvent("on"+c,d.globalEventControl(c,this))})}return this}}})(),globalEventControl:function(e,g){var d=window.___eventList;for(var c=0;c<d.length;c++){if(d[c].type===e&&d[c].elem===g){var f=d[c].func;d.splice(c,1);break}}return f},find:function(c){var k=[],h=this,g=function(m){var p=[];if(a.browser=="ie"&&a.browserver<9){var l=c.split(",");if(l.length>1){for(var o in l){var q=h.defineEl(a.trim(l[o]),m,"find");if(q.length==undefined){q=[q]}for(var n=0,j=q.length;n<j;n++){if(q!=""){p.push(q[n])}}}}else{p=h.defineEl(c,m,"find")}}else{p=m.querySelectorAll(c);if(p.length==1){p=p[0]}}return p};if(this.el.nodeName){this.el=g(this.el)}else{for(var f=0;f<this.el.length;f++){var e=g(this.el[f]);if(this.nodetype(e)=="element"){k.push(e)}else{for(var d=0;d<e.length;d++){k.push(e[d])}}}this.el=k}return this},get:function(c){var d=a.copy(this);d.el=d.el[c];return d},index:function(d){var c=0;d=(d.el)?d.el:d;if(d.length){throw"parameter element's length must be one!"}this.each(function(e){if(this==d){c=e}});return c},text:function(){if(arguments[0]!=null){var g=this,d=arguments[0].toString(),c=function(m){var l=false;for(var k in m){if(g.nodetype(m[k])=="text"&&/\S/.test(m[k].nodeValue)){m[k].nodeValue=d;l=true}}return l};if(!this.el.nodeName){this.each(function(j){c(this.childNodes)})}else{if(!c(this.el.childNodes)){var h=document.createTextNode(d);this.el.insertBefore(h,this.el.childNodes[0])}}return this}else{var e=[];if(!this.el.nodeName){throw"element count must be one"}for(var f in this.el.childNodes){if(this.nodetype(this.el.childNodes[f])=="text"&&/\S/.test(this.el.childNodes[f].nodeValue)){e.push(a.trim(this.el.childNodes[f].nodeValue))}}return e}},html:function(){if(arguments[0]){var c=arguments[0];this.each(function(d){if(typeof c=="string"){this.innerHTML=c}else{var e=c.cloneNode(true);this.innerHTML="";this.appendChild(e);e=null}});return this}else{return this.el.innerHTML}},nodetype:function(f){var c={element:1,attr:2,text:3,cdatasection:4,entityreference:5,entity:6,processinginstruction:7,comment:8,document:9,documenttype:10,documentfragment:11,notation:12};var d=f.nodeType;for(var e in c){if(c[e]==d){return e}}return null},parent:function(){var c=a.copy(this);if(c.el.nodeName){c.el=c.el.parentNode}else{throw"element count is not 1"}return c},prevnode:function(){var c=a.copy(this);if(c.el.nodeName){do{c.el=c.el.previousSibling}while(c.el&&c.el.nodeType!=1)}else{throw"element count is not 1"}return c},nextnode:function(){var c=a.copy(this);if(c.el.nodeName){do{c.el=c.el.nextSibling}while(c.el&&c.el.nodeType!=1)}else{throw"element count is not 1"}return c},child:function(){var e=a.copy(this);if(e.el.nodeName){var c=[];e.el=e.el.childNodes;for(var d=0;d<e.el.length;d++){if(!(e.nodetype(e.el[d])=="text"&&/(\n|\r|\S)/.test(e.el[d].nodeValue))){c.push(e.el[d])}}e.el=c}else{throw"element count is not 1"}return e},val:function(){if(this.el.length){throw"selector's length bigger than 1! use nw.each"}if(arguments[0]){this.el.value=arguments[0];return this}else{return this.el.value}},isAttr:function(c){return this.el.getAttribute(c)!=null},setProp:function(c,d){this.each(function(e){for(var f in d){if(c=="css"){if(this.style[f]!==undefined){this.style[f]=d[f]}}else{if(a.inArray(["checked","selected"],f)){this[f]=d[f]}else{this.setAttribute(f,d[f])}}}})},attr:function(c){if(typeof c=="object"){this.setProp.call(this,"attr",c);return this}else{if(a.browser=="ie"&&a.browserver<8&&c=="class"){c="className"}if(a.inArray(["checked","selected"],c)){return this.el[c]}else{return this.el.getAttribute(c)}}},css:function(c){if(typeof c=="object"){this.setProp.call(this,"css",c);return this}else{if(window.getComputedStyle){return window.getComputedStyle(this.el,null)[c]}else{return this.el.currentStyle[c]}}},hasClass:function(d){var c=[],e=false;this.each(function(h){var g=this.className.split(" ");for(var h=0,f=g.length;h<f;h++){if(g[h]===d){e=true;break}}});return e},addClass:function(c){this.each(function(d){if(this.className.indexOf(c)===-1){this.className=this.className+" "+c}});return this},removeClass:function(d){var c=[];this.each(function(g){var f=this.className.split(" ");for(var g=0,e=f.length;g<e;g++){if(f[g]!==d){c.push(f[g])}}this.className=c.join(" ")});return this},length:function(){var c=(this.el.length==0)?0:(this.el.length>1)?this.el.length:1;return c},tagName:function(){var c=[];if(this.el.length>1){for(var d=0;d<this.el.length;d++){c.push(this.el[d].tagName)}}else{c.push(this.el.tagName)}return(c.length>1)?c:c[0]},remove:function(c){this.each(function(e){var f=this;var d=a(this).find(c);d.each(function(g){f.removeChild(this)})});return this},offset:function(){var d=this.el;var c={left:0,top:0};while(d&&d.tagName){c.left+=d.offsetLeft;c.top+=d.offsetTop;d=d.offsetParent}return{left:this.el.offsetLeft,top:this.el.offsetTop,width:this.el.offsetWidth,height:this.el.offsetHeight,absleft:c.left,abstop:c.top}},data:function(c){if(arguments.length>1){this.el.setAttribute("data-"+c,arguments[1]);return this}else{return this.el.getAttribute("data-"+c)}},delData:function(c){this.el.removeAttribute("data-"+c);return this},toggle:function(){this.each(function(d){var c=a(this).offset();this.style.display=(this.style.display=="none"||c.width==0)?"block":"none"})},append:function(d){if(this.el.length){for(var c=0;c<this.el.length;c++){if(typeof d=="string"){this.el[c].innerHTML+=d}else{var e=d.cloneNode(true);this.el[c].appendChild(e);e=null}}}else{if(typeof d=="string"){this.el.innerHTML+=d}else{this.el.appendChild(d)}}return this},prepend:function(d){if(this.el.length){for(var c=0;c<this.el.length;c++){if(typeof d=="string"){this.el[c].innerHTML=d+this.el[c].innerHTML}else{var e=d.cloneNode(true);this.el[c].insertBefore(e,this.el[c].firstChild);e=null}}}else{if(typeof d=="string"){this.el.innerHTML=d+this.el.innerHTML}else{this.el.insertBefore(d,this.el.firstChild)}}return this},hide:function(){this.each(function(c){this.style.display="none"})},show:function(){this.each(function(c){this.style.display="block"})},slideDown:function(c,d){this.each(function(f){clone=this.cloneNode(true);document.body.appendChild(clone);clone.style.position="absolute";clone.style.top="-9999px";clone.style.display="block";var m=a(clone).offset();document.body.removeChild(clone);clone=undefined;var l=a(this);l.css({display:"block",overflow:"hidden",height:"0px"});var k=m,g=0,j=(c=="slow")?20:10,h=Math.round(k.height/(1000/j));h=(h==0)?1:h;var e=setInterval(function(){g=g+h;if(g<k.height){l.css({height:g+"px"})}else{l.css({height:k.height+"px"});if(d){d.call(null)}clearInterval(e)}},j)});return this},slideUp:function(c,d){this.each(function(f){var l=a(this);var k=l.offset();var g=k.height,j=(c=="slow")?20:10,h=Math.round(k.height/(1000/j));h=(h==0)?1:h;var e=setInterval(function(){if(g>0){g=g-h;l.css({height:g+"px"})}else{l.css({height:0});l.css({display:"none",height:k.height+"px"});if(d){d.call(null)}clearInterval(e)}},j)});return this},fadeIn:function(c,d){this.each(function(g){var h=this;if(h.style.opacity){h.style.opacity=0}else{h.style.filter="alpha(opacity=0)"}h.style.display="block";var f=1;var e=setInterval(function(){if(Math.floor(f/(c*10))<1){if(h.style.opacity){h.style.opacity=f/(c*10)}else{h.style.filter="alpha(opacity="+f/(c*10)*100+")"}f++}else{if(h.style.opacity){h.style.opacity=1}else{h.style.filter=100}clearInterval(e);if(d){d.call(null)}}},80)});return this},fadeOut:function(c,d){this.each(function(g){var h=this;h.style.display="block";var f=0;var e=setInterval(function(){if(Math.floor(f/(c*10))<1){if(h.style.opacity){h.style.opacity=1-f/(c*10)}else{h.style.filter="alpha(opacity="+(100-(f/(c*10)*100))+")"}f++}else{if(h.style.opacity){h.style.opacity=0}else{h.style.filter="alpha(opacity=0)"}clearInterval(e);if(d){d.call(null)}}},80)});return this},serialize:function(){var l=[],h=[],e=[],m,c=arguments[0];this.each(function(j){var n=a(this).find("input, select, textarea");n.each(function(o){var q=this,p=q.getAttribute("type");if(p!=="button"&&p!=="submit"){if(/(checkbox|radio)/gi.test(p)){if(q.checked){l.push({name:q.name,value:encodeURIComponent(q.value)})}}else{l.push({name:q.name,value:encodeURIComponent(q.value)})}}})});a.each(l,function(j){if(c!=="object"){h.push(this.name+"="+this.value)}else{if(/\[\]/g.test(this.name)){var n=this.name.replace(/\[\]/g,"");if(a.isArray(e[n])===false){e[n]=[]}e[n].push(this.value)}else{h.push(this.name+":'"+this.value+"'")}}});if(c!=="object"){m=h.join("&");return m}else{for(var f in e){var k=[];for(var d=0,g=e[f].length;d<g;d++){k.push("'"+e[f][d]+"'")}h.push(f+":["+k.join(",")+"]")}m=h.join(",");return a.exec("{"+m+"}")}}};a.prototype=a;a.prototype.extend=function(c,d){a.prototype[c]=a.core.prototype[c]=d};a.extend("each",function(){if(arguments[1]){if(a.isArray(arguments[0])){for(var d=0,c=arguments[0].length;d<c;d++){var e=arguments[1].call(arguments[0][d],d);if(e!==undefined&&e===true||e===false){break}}}else{throw"not Array"}}else{if(this.el.nodeType==1){arguments[0].call(this.el,0)}else{for(var d=0,c=this.el.length;d<c;d++){var e=arguments[0].call(this.el[d],d);if(e!==undefined&&e===true||e===false){break}}}}return this});a.extend("cancelDefault",function(c){if(c&&c.preventDefault){c.preventDefault()}else{window.event.returnValue=false}});a.extend("cancelBubble",function(c){if(c&&c.stopPropagation){c.stopPropagation()}else{window.event.cacelBubble=true}});a.prototype.ready=function(c){if(document.readyState==="complete"){setTimeout(c,1)}if(document.addEventListener){document.addEventListener("DOMContentLoaded",c,false)}else{if(document.attachEvent){document.attachEvent("onreadystatechange",function(){if(document.readyState==="complete"){c.call(null)}})}}};a.extend("setCookie",function(g,d,c){var f=new Date();var e=(arguments[3])?arguments[3]:"/";f.setDate(f.getDate()+c);document.cookie=g+"="+escape(d)+((c==null)?"; path="+e:"; path="+e+"; expires="+f.toGMTString())});a.extend("getCookie",function(c){if(document.cookie.length>0){c_start=document.cookie.indexOf(c+"=");if(c_start!=-1){c_start=c_start+c.length+1;c_end=document.cookie.indexOf(";",c_start);if(c_end==-1){c_end=document.cookie.length}return unescape(document.cookie.substring(c_start,c_end))}}return""});a.extend("delCookie",function(e){var c=new Date();var d=(arguments[1])?arguments[1]:"/";c.setDate(c.getDate()-1);document.cookie=e+"= ; path="+d+"; expires="+c.toGMTString()+"; "});a.extend("trim",function(c){return c.replace(/^\s+/,"").replace(/\s+$/,"")});a.extend("urlencode",function(c){return encodeURIComponent(c)});a.extend("urldecode",function(c){return decodeURIComponent(c)});a.extend("number_format",function(e){var c=e.toString();var d=/(\-?\d+)(\d{3})($|\.\d+)/g;if(d.test(c)){return c.replace(d,function(j,h,g,f){return a.number_format(h)+","+g+""+f})}else{return c}});a.extend("exec",function(c){return(new Function("","return "+c+";"))()});a.extend("strPad",function(c,f,g){var e="";c=c.toString();for(var d=0;d<f-c.length;d++){e+=g}return e+c});a.extend("isPlugin",function(h){var c=h.toLowerCase();if(a.browser=="ie"){var d=["AcroPDF.PDF","ShockwaveFlash.ShockwaveFlash","QuickTime.QuickTime","WMPlayer.OCX"];var f="";for(var g=0;g<d.length;g++){if(d[g].toLowerCase().indexOf(c)>-1){f=d[g];break}}if(f==""){return false}try{var l=new ActiveXObject(f);if(l){return true}}catch(k){return false}}else{for(var g=0;g<navigator.plugins.length;g++){var j=navigator.plugins[g].description.toLowerCase();if(j.indexOf(c)>-1){return true}}return false}});a.extend("refURL",function(d){if(a.browser=="ie"){var c=document.createElement("a");c.href=d;document.body.appendChild(c);c.click()}else{document.location.href=d}});a.extend("qString",function(d){var c=qs="";d=d.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var e=new RegExp("[\\?&]"+d+"=([^&#]*)");if(arguments[1]!=undefined){qs=e.exec(arguments[1])}else{qs=e.exec(document.location.href)}if(qs==null){c=""}else{c=qs[1]}return c});a.extend("getType",function(d){var c=Object.prototype.toString.call(d);return c.substring(7,c.length-1).toLowerCase()});a.extend("isArray",function(c){return Object.prototype.toString.call(c)=="[object Array]"});a.extend("inArray",function(c,e){for(var d=0;d<c.length;d++){if(c[d]===e){return true}}return false});a.extend("isObject",function(c){return Object.prototype.toString.call(c)=="[object Object]"});a.extend("isFunction",function(c){return Object.prototype.toString.call(c)=="[object Function]"});a.extend("isBoolean",function(c){return Object.prototype.toString.call(c)=="[object Boolean]"});a.extend("isString",function(c){return Object.prototype.toString.call(c)=="[object String]"});a.extend("isNumber",function(c){return Object.prototype.toString.call(c)=="[object Number]"});a.extend("isDate",function(c){return Object.prototype.toString.call(c)=="[object Date]"});a.extend("isRegExp",function(c){return Object.prototype.toString.call(c)=="[object RegExp]"});a.extend("ajax",function(){var g={url:"",param:"",method:"get",dataType:"text",timeout:10000,async:true,cache:false,xhr:null,onload:null,onabort:null,onerror:null,onsuccess:null,onprogress:null,onsendbefore:null,onreadystatechange:null,overridemimetype:["text/xml","text/html","text/plain","application/json"]};for(var c in arguments[0]){if(a.isString(arguments[0][c])){if(c!="url"&&c!="param"){g[c]=(arguments[0][c]).toLowerCase()}else{g[c]=arguments[0][c]}}else{g[c]=arguments[0][c]}}var d=(g.dataType=="json")?g.overridemimetype[3]:(g.dataType=="xml")?g.overridemimetype[0]:(g.dataType=="html")?g.overridemimetype[1]:g.overridemimetype[2];if(window.XMLHttpRequest){g.xhr=new XMLHttpRequest()}else{if(window.ActiveXObject){try{g.xhr=new ActiveXObject("Msxml2.XMLHTTP")}catch(f){g.xhr=new ActiveXObject("Microsoft.XMLHTTP")}}else{g.xhr=false}}if(g.xhr){if(g.xhr.timeout){g.xhr.timeout=g.timeout}g.xhr.onload=function(e){if(g.onload){g.onload.call(null,e)}};g.xhr.onprogress=function(e){if(g.onprogress){g.onprogress.call(null,e)}};g.xhr.onabort=function(e){if(g.abort){g.onabort.call(null,e)}};g.xhr.onreadystatechange=function(){function e(l){try{if(l!=""){var j="";l=l.replace(/<script[^>]*>([\s\S]*?)<\/script>/gi,function(){if(l!==null){j+=arguments[1]+"\n"}return""});if(j){(window.execScript)?window.execScript(j):window.setTimeout(j,0)}}return false}catch(k){}}if(this.readyState==4){if(this.status==200||this.statusText=="OK"){var h=(g.dataType=="xml")?this.responseXML:(g.dataType=="json")?a.exec(this.responseText):this.responseText;e(h);g.onsuccess.call(this,h)}else{g.onerror.call(this,h)}}};if(g.method=="get"){g.url=(g.param!="")?g.url+="?"+g.param:g.url+"?";g.url+=(g.cache==false)?"&"+Math.floor(Math.random()*9999999):""}if(g.onsendbefore){g.onsendbefore.call(null)}g.xhr.open(g.method,g.url,g.async);if(g.xhr.overrideMimeType){g.xhr.overrideMimeType(d)}switch(g.method){case"get":g.xhr.send(null);break;case"post":g.xhr.setRequestHeader("Content-type","application/x-www-form-urlencoded");if(g.cache==false){g.xhr.setRequestHeader("Cache-Control","no-cache, must-revalidate");g.xhr.setRequestHeader("Pragma","no-cache")}g.xhr.send(g.param);break}}else{alert("Can't support Ajax this browser")}});a.extend("timestamp",function(){return new Date().getTime()});a.extend("loadScript",function(f,h){var c=document.getElementsByTagName("script"),g=false;for(var e=0;e<c.length;e++){if(c[e].src.indexOf(f)>-1){g=true;h.call(null);break}}if(g==false){var d=document.createElement("script");d.type="text/javascript";d=document.createElement("script");d.setAttribute("type","text/javascript");d.setAttribute("src",f);d.async=true;document.getElementsByTagName("head")[0].appendChild(d);if(typeof h=="function"){d.onload=d.onreadystatechange=function(){if(!d.readyState||/loaded|complete/.test(d.readyState)){d=d.onreadystatechange=null;h.call(null)}}}}});a.extend("delScript",function(e){var c=document.getElementsByTagName("script");for(var d=0;d<c.length;d++){if(c[d].src.indexOf(e)>-1){a("head").remove(c[d]);break}}});a.extend("jsonp",function(f,g){var e="NW"+Math.ceil(Math.random()*a.timestamp());var c=document.createElement("script");c.setAttribute("type","text/javascript");c.setAttribute("src",f.replace("callback=?","callback="+e));c.setAttribute("async",true);document.getElementsByTagName("head")[0].appendChild(c);window[e]=g;var d=this;if(typeof g=="function"){c.onload=c.onreadystatechange=function(){if(!c.readyState||/loaded|complete/.test(c.readyState)){c.onload=c.onreadystatechange=null;d.delScript(c.src);delete window[e]}}}});a.extend("is_mobile",function(){var e=["iPhone","iPod","BlackBerry","Android","Windows CE","LG","MOT","SAMSUNG","SonyEricsson"];var d=navigator.userAgent;for(var c=0;c<e.length;c++){if(new RegExp(e[c]).test(d)===true){return true}}return false});a.extend("in_array",function(e,c){for(var d in c){if(c[d]===e){return true}}return false});a.extend("arrayShuffle",function(c){return c.sort(function(e,d){return Math.round(Math.random()*2)-1})});a.extend("arrayRemove",function(c,f,e){var d=c.slice((e||f)+1||c.length);c.length=f<0?c.length+f:f;c.push.apply(c,d);return c});(function(){var g=navigator.userAgent;var c=navigator.platform;var e=OS=version="";var h=document.documentElement;var d=[{exp:/Chrome/,ver:/Chrome\/[0-9.]+/i,name:"chrome"},{exp:/Firefox/,ver:/Firefox\/[0-9.]+/i,name:"firefox"},{exp:/Safari/,ver:/Version\/[0-9.]+/i,name:"safari"},{exp:/MSIE/,ver:/MSIE\s{1}[0-9.]+/i,name:"ie"},{exp:/Opera/,ver:/Version\/[0-9.]+/i,name:"opera"}];for(var f=0;f<d.length;f++){if(d[f].exp.test(g)===true){e=d[f].name;version=(e=="ie")?g.match(d[f].ver)[0].split(" ")[1]:g.match(d[f].ver)[0].split("/")[1];break}}if(e==""){e=undefined;version=undefined}if(/Win/.test(c)){OS="win"}else{if(/Mac/.test(c)){OS="mac"}else{if(/Linux/.test(c)){OS="linux"}else{OS=undefined}}}a.browser=e;a.os=OS;a.browserver=version;a.lang=navigator.userLanguage||navigator.language;a.globalHash="";window.___eventList=[];a.ready(function(){a.windowHeight=self.innerHeight||h.clientHeight||document.body.clientHeight;a.windowWidth=self.innerWidth||h.clientWidth||document.body.clientWidth})})();a.extend("scrollX",function(){return self.pageXoffset||document.documentElement.scrollLeft||document.body.scrollLeft});a.extend("scrollY",function(){return self.pageYoffset||document.documentElement.scrollTop||document.body.scrollTop});a.extend("pageHeight",function(){return document.documentElement.scrollHeight||document.body.scrollHeight});a.extend("pageWidth",function(){return document.documentElement.scrollWidth||document.body.scrollWidth});a.extend("offsetX",function(c){var d=c.srcElement||c.target;return(!c.offsetX)?c.layerX:c.offsetX});a.extend("offsetY",function(c){var d=c.srcElement||c.target;return(!c.offsetY)?c.layerY:c.offsetY});a.extend("copy",function(d){var c=(a.isArray(d))?[]:{};for(i in d){c[i]=d[i]}return c});a.extend("callHashContents",function(c,e){if(nw.browser=="ie"){document.domain=document.domain;var d=document.frames.__hashControl;d.hash=a.globalHash}e.call(null,c)});a.extend("startHashControl",function(e){if(nw.browser=="ie"){var d=document.createElement("IFRAME");d.setAttribute("name","__hashControl");d.setAttribute("id","__hashControl");d.setAttribute("width",0);d.setAttribute("height",0);document.body.appendChild(d);var c=document.getElementById("__hashControl");ifrm_doc=c.contentWindow.document;ifrm_doc.open();ifrm_doc.write("<script type='text/javascript'>var hash = '';document.domain='"+document.domain+"';<\/script>");ifrm_doc.close()}a.__hashInterval=setInterval(function(){if(nw.browser=="ie"){if(nw("#__hashControl").readyState=="complete"){var h=document.frames.__hashControl;var f=h.hash;if(f.length>0){a.callHashContents(f,e)}}}var g=window.location.hash.replace("#","");if(a.globalHash!=g){if(g.length>0){a.callHashContents(g,e);a.globalHash=g}}if(arguments[1]){location.hash=arguments[1]}},100)});window.nw=a})();